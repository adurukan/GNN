schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      md5: 271f9ee6b16fa689a5f49e93195e823a
      size: 4782
    params:
      params.yaml:
        prepare.path_classes: data/elliptic_txs_classes.csv
        prepare.path_edges: data/elliptic_txs_edgelist.csv
        prepare.path_fetures: data/elliptic_txs_features.csv
    outs:
    - path: src/prepared
      md5: 6fcc6525e2ae70e80fcc3276669ff61b.dir
      size: 1332421899
      nfiles: 6
  eda:
    cmd: python src/eda.py
    deps:
    - path: src/eda.py
      md5: 3973bccb2b35cc3a03bd0303499a61eb
      size: 2466
    params:
      params.yaml:
        eda.path_classes: src/prepared/df_classes.csv
        eda.path_edges: src/prepared/df_edges.csv
        eda.path_fetures: src/prepared/df_features.csv
    outs:
    - path: src/figures
      md5: 70fdef00318ed2afc7da721dc3f8484d.dir
      size: 158028
      nfiles: 2
  generate:
    cmd: python src/generate.py
    deps:
    - path: src/generate.py
      md5: 153657fda65bcf0022817e5f1c91d913
      size: 3629
    params:
      params.yaml:
        generate.path_classes: src/prepared/df_classes.csv
        generate.path_edges: src/prepared/df_edges.csv
        generate.path_fetures: src/prepared/df_features.csv
    outs:
    - path: src/generated
      md5: b404deba20e5c4a16ff403081918f339.dir
      size: 338434392
      nfiles: 6
  train:
    cmd: python src/train.py
    deps:
    - path: src/model.py
      md5: 16d67333ea142c2afde62ce1c9b4a575
      size: 1555
    - path: src/train.py
      md5: ada402a7283e143791dffb5b5b427d6b
      size: 3092
    params:
      params.yaml:
        train.epoches: 100
        train.lr: 0.001
        train.path_test_loader: src/dataset/test_loader.pth
        train.path_train_loader: src/dataset/train_loader.pth
        train.patience: 50
    outs:
    - path: src/model
      md5: 02c4335ce96acec7db9a7c90d49d1f76.dir
      size: 69367
      nfiles: 1
    - path: training_loss_acc.json
      md5: 488d4db3fdc60b678f1dc6da13f667dd
      size: 530
  dataset:
    cmd: python src/dataset.py
    deps:
    - path: src/dataset.py
      md5: d90cf4873dca6ab02138ee06918aa05a
      size: 3186
    - path: src/prepared
      md5: 6fcc6525e2ae70e80fcc3276669ff61b.dir
      size: 1332421899
      nfiles: 6
    params:
      params.yaml:
        dataset.path_classes: src/prepared/elliptic_txs_classes.csv
        dataset.path_edgelist_timed: src/prepared/elliptic_txs_edgelist_timed.csv
        dataset.path_fetures: src/prepared/elliptic_txs_features.csv
        dataset.path_merged_nodes: src/prepared/merged_nodes_df.csv
        dataset.path_node_label: src/prepared/node_label.csv
        dataset.path_nodetime: src/prepared/elliptic_txs_nodetime.csv
    outs:
    - path: src/dataset
      md5: d2aa3b95240dfd9537bf628b03bab8a1.dir
      size: 144694487
      nfiles: 2
  model:
    cmd: python src/model.py
    deps:
    - path: src/dataset
      md5: d2aa3b95240dfd9537bf628b03bab8a1.dir
      size: 144694487
      nfiles: 2
    params:
      params.yaml:
        model.hidden_channels:
        - 100
        model.num_node_features: 166
